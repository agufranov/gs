// deno-fmt-ignore-file
import * as V from './_externals.mjs';
import { EmitGuard as E, Guard as G } from '../../guard/index.mjs';
// ------------------------------------------------------------------
// Build
// ------------------------------------------------------------------
export function BuildStandardSchemaV1(context, schema, value) {
    return E.Not(E.HasPropertyKey(E.Call(E.Member(E.Member(V.CreateExternalVariable(schema), '~standard'), 'validate'), [value]), E.Constant('issues')));
}
// ------------------------------------------------------------------
// Check
// ------------------------------------------------------------------
export function CheckStandardSchemaV1(context, schema, value) {
    return !G.HasPropertyKey(schema['~standard'].validate(value), 'issues');
}
// ------------------------------------------------------------------
// Error
// ------------------------------------------------------------------
export function ErrorStandardSchemaV1(context, schemaPath, instancePath, schema, value) {
    const result = schema['~standard'].validate(value);
    return !G.HasPropertyKey(result, 'issues') || context.AddError({
        keyword: '~standard',
        schemaPath,
        instancePath,
        params: { vendor: schema[`~standard`].vendor, issues: result.issues },
    });
}
