// deno-fmt-ignore-file
import { Memory } from '../../../system/memory/index.mjs';
import { Guard } from '../../../guard/index.mjs';
import { FromType } from './from-type.mjs';
function CollapseIntersectProperties(left, right) {
    const leftKeys = Guard.Keys(left).filter((key) => !Guard.HasPropertyKey(right, key));
    const rightKeys = Guard.Keys(right).filter((key) => !Guard.HasPropertyKey(left, key));
    const leftProperties = leftKeys.reduce((result, key) => Memory.Assign(result, { [key]: left[key] }), {});
    const rightProperties = rightKeys.reduce((result, key) => Memory.Assign(result, { [key]: right[key] }), {});
    const result = Memory.Assign(leftProperties, rightProperties);
    return result;
}
export function FromIntersect(types) {
    return types.reduce((result, left) => {
        return CollapseIntersectProperties(result, FromType(left));
    }, {});
}
